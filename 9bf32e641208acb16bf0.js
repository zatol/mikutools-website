(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1244:function(t,e,n){var content=n(2647);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("6cb19532",content,!0,{sourceMap:!1})},2646:function(t,e,n){"use strict";var r=n(1244);n.n(r).a},2647:function(t,e,n){(e=n(12)(!1)).push([t.i,".new_bangumi_play{margin-top:.9375rem}.new_bangumi_play .nya-loading{margin:6.25rem auto 1.25rem}.new_bangumi_play .num-list{margin-top:1.25rem}.new_bangumi_play .num-list button{margin:.25rem;width:calc(11.11111% - .5rem);text-align:center;box-sizing:border-box}@media (max-width:980px){.new_bangumi_play .num-list button{width:calc(12.5% - .5rem)}}@media (max-width:880px){.new_bangumi_play .num-list button{width:calc(14.28571% - .5rem)}}@media (max-width:780px){.new_bangumi_play .num-list button{width:calc(16.66667% - .5rem)}}@media (max-width:680px){.new_bangumi_play .num-list button{width:calc(20% - .5rem)}}@media (max-width:580px){.new_bangumi_play .num-list button{width:calc(25% - .5rem)}}@media (max-width:400px){.new_bangumi_play .num-list button{width:calc(33.33333% - .5rem)}}.new_bangumi_play iframe{width:100%;min-height:37.5rem}@media (max-width:950px){.new_bangumi_play iframe{min-height:31.25rem}}@media (max-width:750px){.new_bangumi_play iframe{min-height:25rem}}@media (max-width:650px){.new_bangumi_play iframe{min-height:18.75rem}}@media (max-width:400px){.new_bangumi_play iframe{min-height:15.625rem}}",""]),t.exports=e},2812:function(t,e,n){"use strict";n.r(e);var r=n(2642),m=n.n(r),l=n(2643),o=n.n(l),c=(n(2644),{name:"NewBangumiPlay",head:function(){return{title:"追新番"}},components:{"d-player":o.a},data:function(){return{current:0,data:null,episode:1}},computed:{type:function(){return this.data.list[this.current].type},src:function(){return this.data.list[this.current].src}},watch:{data:function(){this.episode=this.data.list[0].num}},mounted:function(){var t=this;this.$store.state.isMobile&&this.$nextTick((function(){t.$notify.warning({title:"建议",message:"<b>强烈推荐使用电脑观看</b>，由于播放器接口限制，移动端观看可能会出现广告，影响观看体验",dangerouslyUseHTMLString:!0})})),this.getData()},methods:{switchNum:function(t,i){var e=this;this.episode=t,this.current=i;var n={url:this.data.list[i].src};"m3u8"===i.type&&(n=Object.assign(n,{type:"customHls",customType:{customHls:function(video){var t=new m.a;t.loadSource(video.src),t.attachMedia(video)}}})),this.$nextTick((function(){if(!e.$refs.player)return!1;e.$refs.player.dp.switchVideo(n)}))},getData:function(){var t=this,e=this.$route.query.id;e?this.$axios.post("/new_bangumi/"+e).then((function(e){t.data=e.data.data})).catch((function(e){t.$notify.error({title:"获取番剧数据失败",message:e})})):this.$notify.error({title:"获取番剧数据失败",message:"ID异常"})},playerOptions:function(){return{video:"m3u8"===this.data.list[this.current].type?{url:this.data.list[this.current].src,type:"customHls",customType:{customHls:function(video){var t=new m.a;t.loadSource(video.src),t.attachMedia(video)}}}:{url:this.data.list[this.current].src},autoplay:!0,screenshot:!1,hotkey:!0,preload:"auto"}}}}),d=(n(2646),n(5)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new_bangumi_play"},[n("nya-container",{attrs:{title:t.data?"正在播放："+t.data.title+" 第 "+t.episode+" 集":""}},[t.data?n("div",{staticClass:"mt-15"},[["m3u8","flv"].includes(t.type)?n("d-player",{ref:"player",attrs:{options:t.playerOptions()}}):["iqiyi","vip","qzone"].includes(t.type)?n("iframe",{attrs:{src:"https://player.s1905.com/ipsign/player.php?id="+t.src+"&type="+t.type,frameborder:"0",border:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowfullscreen:"true"}}):n("iframe",{attrs:{src:"https://api.flvsp.com/?type="+t.type+"&vid="+t.src,frameborder:"0",border:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowfullscreen:"true"}}),n("div",{staticClass:"num-list"},t._l(t.data.list,(function(e,i){return n("el-button",{key:i,attrs:{type:t.current===i?"primary":""},on:{click:function(n){return t.switchNum(e.num,i)}}},[t._v("\n                    第"+t._s(e.num)+"集\n                ")])})),1)],1):n("nya-loading")],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);